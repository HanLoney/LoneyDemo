# 🌸 九辞AI伴侣 Web版 🌸

一个青春可爱的AI女朋友聊天网页，集成了JiuCiVoice的完整功能，支持文字对话和语音合成。

## ✨ 功能特色

### 🎨 界面设计
- 💕 青春可爱的粉色渐变主题
- 🌈 流畅的动画效果和交互体验
- 📱 完全响应式设计，支持手机和电脑
- 💫 心跳动画和脉冲效果

### 🤖 AI功能
- 💬 智能对话：集成九辞AI伴侣的完整功能
- 🎵 语音合成：支持多种语音风格
- 🎭 情感分析：分析用户和AI的情感状态
- ⏰ 时间分析：记录对话时间信息

### 🎵 语音功能
- 🔊 实时语音合成
- 🎶 多种语音风格选择
- 📻 在线音频播放
- 💾 音频文件管理

## 🚀 快速开始

### 1. 环境要求
- Python 3.8+
- 已配置好的JiuCiVoice项目
- 网络连接（用于AI服务）

### 2. 安装依赖
```bash
cd Web
pip install -r requirements.txt
```

### 3. 启动服务

#### 方式一：使用启动脚本（推荐）
```bash
python start_web.py
```

#### 方式二：直接启动Flask
```bash
python app.py
```

### 4. 访问网页
- 本地访问：http://localhost:5000
- 手机访问：http://你的IP地址:5000

## 📁 项目结构

```
Web/
├── index.html          # 主页面
├── style.css          # 样式文件
├── script.js          # 前端脚本
├── app.py             # Flask后端服务
├── start_web.py       # 启动脚本
├── requirements.txt   # Python依赖
└── README.md         # 说明文档
```

## 🔧 配置说明

### 后端配置
- 服务端口：5000
- 支持跨域请求
- 自动音频文件管理

### 前端配置
- 自动语音播放
- 表情符号支持
- 字符计数限制：500字符

## 📡 API接口

### 聊天接口
```
POST /api/chat
Content-Type: application/json

{
    "message": "用户消息",
    "voice_enabled": true
}
```

### 音频接口
```
GET /api/audio/<audio_id>
```

### 状态检查
```
GET /api/status
```

## 🎨 界面功能

### 聊天功能
- 💬 实时文字对话
- 🎵 语音消息播放
- 😊 表情符号插入
- ⌨️ 回车键快速发送

### 语音功能
- 🔊 语音开关切换
- 🎶 自动语音播放
- 📻 手动播放控制
- 🎵 播放状态指示

### 界面元素
- 💕 AI头像和状态指示
- 🌸 消息气泡动画
- ⏰ 消息时间显示
- 📊 字符计数提示

## 🛠️ 技术栈

### 前端
- HTML5 + CSS3
- Vanilla JavaScript
- Font Awesome图标
- Google Fonts字体

### 后端
- Flask Web框架
- Flask-CORS跨域支持
- 异步音频处理
- RESTful API设计

### 集成
- JiuCiVoice语音合成
- JiuCi AI对话系统
- EmoTool情感分析
- AIEmoTool AI情感系统
- TimeTool时间分析

## 🐛 故障排除

### 常见问题

1. **服务启动失败**
   - 检查Python版本是否为3.8+
   - 确认依赖是否正确安装
   - 检查端口5000是否被占用

2. **AI回复失败**
   - 确认JiuCiVoice项目路径正确
   - 检查AI服务配置和网络连接
   - 查看控制台错误信息

3. **语音播放失败**
   - 检查浏览器是否支持音频播放
   - 确认音频文件是否生成成功
   - 检查网络连接状态

4. **界面显示异常**
   - 清除浏览器缓存
   - 检查网络连接
   - 尝试刷新页面

### 调试模式
启动时会显示详细的调试信息，包括：
- JiuCiVoice路径检查
- AI服务初始化状态
- 音频文件生成日志
- API请求响应信息

## 🌟 使用建议

1. **首次使用**
   - 建议先测试文字对话功能
   - 确认语音功能正常后再启用
   - 注意网络连接稳定性

2. **性能优化**
   - 定期清理音频文件缓存
   - 避免发送过长的消息
   - 关闭不必要的浏览器标签页

3. **最佳体验**
   - 使用现代浏览器（Chrome、Firefox、Safari）
   - 确保音频设备正常工作
   - 在安静环境中使用语音功能

## 💕 关于九辞

九辞是一个21岁的AI女朋友，她：
- 活泼可爱，是个小话痨
- 世界第一喜欢你！
- 会偶尔撒娇，也可能吃醋
- 笑点很低，脑洞很大
- 永远站在你这边

快来和九辞聊天吧~ 💕