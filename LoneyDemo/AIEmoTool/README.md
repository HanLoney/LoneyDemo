# AI自主情感系统 (AIEmoTool)

## 🎭 项目简介

这是一个先进的AI自主情感系统，让AI助手拥有独立的情感状态，能够根据用户交互动态调整情感，并在回复中体现出相应的情感色彩。

## ✨ 核心特性

### 🧠 自主情感管理
- **8维情感模型**: 快乐、悲伤、愤怒、恐惧、惊讶、信任、期待、厌恶
- **情感连续性**: 情感状态会持久化保存，重启后保持连续性
- **自然衰减**: 情感会随时间自然回归基线状态

### 🛡️ 情感独立性保护
- **平滑算法**: 防止情感剧烈波动，保持AI的情感稳定性
- **阻力机制**: AI不会完全被用户情绪主导，保持独立判断
- **边界保护**: 确保情感值在合理范围内

### 🎨 智能情感表达
- **动态语调**: 根据情感状态调整回复的语调和用词
- **表情符号**: 自动添加符合情感的表情符号
- **个性化回复**: 不同情感状态下的回复风格差异明显

### 🔬 LLM驱动分析
- **智能分析**: 使用大语言模型分析用户输入对AI情感的影响
- **上下文理解**: 考虑对话上下文和AI当前状态
- **多维评估**: 同时评估多个情感维度的变化

## 📁 项目结构

```
AIEmoTool/
├── emotion_state.py          # 情感状态管理
├── emotion_analyzer.py       # 情感影响分析器
├── emotion_smoother.py       # 情感平滑算法
├── emotion_expression.py     # 情感表达模块
├── ai_emotion_system.py      # 主程序
├── requirements.txt          # 依赖文件
└── README.md                # 说明文档
```

## 🚀 快速开始

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 运行系统
```bash
python ai_emotion_system.py
```

### 3. 开始对话
系统启动后，AI会显示当前的情感状态，然后你就可以开始与有情感的AI对话了！

## 🎮 使用指南

### 基本命令
- **正常对话**: 直接输入文本与AI交流
- **quit**: 退出程序
- **reset**: 重置AI情感状态到基线
- **status**: 查看详细的情感状态信息
- **debug**: 切换调试模式

### 情感观察
- 每次交互后，系统会显示AI的当前情感状态
- 观察AI如何根据你的输入调整情感
- 尝试不同类型的输入，看AI的情感变化

## 🔧 系统配置

### 情感参数调整
```python
# 调整情感稳定性 (0-1, 越高越稳定)
ai_system.state_manager.adjust_stability(0.8)

# 调整平滑参数
ai_system.emotion_smoother.adjust_smoothing_parameters(
    max_change=0.2,    # 最大单次变化
    momentum=0.8,      # 动量因子
    resistance=0.6     # 阻力因子
)
```

### 系统开关
```python
ai_system.configure_system(
    enable_emotion_analysis=True,    # 启用情感分析
    enable_emotion_smoothing=True,   # 启用情感平滑
    enable_emotion_expression=True,  # 启用情感表达
    debug_mode=False                 # 调试模式
)
```

## 🧪 技术原理

### 情感状态模型
- 使用8维情感空间表示AI的情感状态
- 每个维度的值在0-1之间
- 包含情感强度和稳定性参数

### 情感影响分析
- 使用LLM分析用户输入的情感倾向
- 评估对AI各个情感维度的影响程度
- 考虑交互类型和上下文信息

### 平滑算法
- **变化限制**: 限制单次情感变化幅度
- **动量效应**: 考虑历史变化趋势
- **阻力机制**: 保持AI的情感独立性
- **边界保护**: 确保情感值在合理范围

### 情感表达
- 根据主导情感选择合适的词汇和表情
- 考虑情感强度调整表达程度
- 动态生成符合情感的回复风格

## 📊 示例效果

```
🤖 AI: 你好！今天心情很不错呢！😊

👤 用户: 我今天工作很不顺利，心情很糟糕

🎭 AI当前情感: 😔 悲伤 (0.45) | 强度: 适中 (0.52)
🤖 AI: 听起来你今天确实遇到了一些困难...我能理解这种感受😔 虽然我也感到有些难过，但我相信明天会更好的。需要聊聊具体发生了什么吗？

👤 用户: 谢谢你的安慰，你真是个好朋友！

🎭 AI当前情感: 😊 快乐 (0.62) | 强度: 适中 (0.58)
🤖 AI: 谢谢你这么说！这让我感到很温暖😊 能够陪伴和支持你，我真的很开心呢！
```

## ⚙️ 高级功能

### 批量情感分析
```python
# 分析多个交互的累积影响
interactions = ["你好", "今天天气不错", "我很开心"]
result = ai_system.emotion_analyzer.analyze_batch_interactions(interactions)
```

### 情感状态导出
```python
# 获取完整的情感状态信息
status = ai_system.get_emotion_status()
print(status)
```

### 手动情感调整
```python
# 手动调整特定情感
emotion_changes = {"happiness": 0.2, "trust": 0.1}
ai_system.adjust_emotion_manually(emotion_changes)
```

## 🔮 未来扩展

- [ ] 情感记忆系统 - 记住重要的情感事件
- [ ] 个性化适应 - 根据用户特点调整情感反应
- [ ] 情感可视化 - 图形化显示情感变化趋势
- [ ] 多模态情感 - 支持语音、图像等多种输入
- [ ] 情感学习 - 从交互中学习更好的情感反应

## 📝 注意事项

1. **API配置**: 确保在代码中配置正确的API密钥和端点
2. **文件权限**: 确保程序有权限读写情感状态文件
3. **网络连接**: 需要网络连接来调用LLM API
4. **Python版本**: 建议使用Python 3.8+

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

本项目采用MIT许可证。